# 如何查找代码字段名称 - 用户指南

> **目的**: 帮助您快速找到浏览器中看到的字段在代码中的真实名称，确保沟通准确无误

---

## 📋 快速查找方法总结

| 方法 | 难度 | 准确度 | 推荐场景 |
|------|------|--------|---------|
| **方法1: 浏览器开发者工具（F12）** | ⭐ 简单 | ⭐⭐⭐⭐⭐ | **最推荐** - 所有场景 |
| **方法2: Vue DevTools插件** | ⭐⭐ 中等 | ⭐⭐⭐⭐⭐ | 查看实时数据 |
| **方法3: 查看网络请求** | ⭐⭐ 中等 | ⭐⭐⭐⭐ | 查看后端返回数据 |
| **方法4: 代码搜索** | ⭐⭐⭐ 复杂 | ⭐⭐⭐ | 需要懂一点代码 |

---

## 🔍 方法1: 浏览器开发者工具（F12）- **最推荐！**

### 步骤1: 打开开发者工具

1. 在浏览器中打开您要查看的页面（比如 `http://localhost:3002/sales/orders/list`）
2. 按键盘 **F12** 键（或右键点击页面 → 选择"检查"）
3. 开发者工具会在浏览器底部或侧边打开

### 步骤2: 使用"元素选择器"查找字段

1. 点击开发者工具左上角的 **"选择元素"图标** 📍（或按 `Ctrl+Shift+C`）
2. 鼠标移动到您要查看的字段上（比如"产出工序"）
3. 字段会高亮显示
4. 点击这个字段

### 步骤3: 查看字段代码名称

开发者工具会自动跳转到该元素的HTML代码，您会看到类似：

```html
<el-table-column prop="outputProcess" label="产出工序" width="120">
```

**找到了！**
- `label="产出工序"` ← 这是您在浏览器中看到的名称（中文）
- `prop="outputProcess"` ← 这是代码中的字段名称（前端）

### 步骤4: 复制字段名称并告诉我

现在您可以这样告诉我：

```
"产出工序"字段的代码名称是 outputProcess
```

或者直接引用：

```
请修改"产出工序"（outputProcess）字段...
```

---

## 🎯 方法2: Vue DevTools插件 - 查看实时数据

### 安装插件

1. Chrome浏览器：在Chrome应用商店搜索 "Vue.js devtools"
2. Firefox浏览器：在Firefox插件市场搜索 "Vue.js devtools"

### 使用步骤

1. 安装插件后，按 **F12** 打开开发者工具
2. 选择 **"Vue"** 标签页
3. 在左侧组件树中选择当前页面组件
4. 在右侧查看组件的 **data** 和 **props**
5. 找到您看到的字段值，查看对应的字段名称

**示例：**
```
data: {
  formData: {
    outputProcess: "打包"  ← 字段名是 outputProcess
  }
}
```

---

## 🌐 方法3: 查看网络请求 - 查看后端数据

### 步骤1: 打开网络面板

1. 按 **F12** 打开开发者工具
2. 选择 **"网络"（Network）** 标签
3. 刷新页面（F5）

### 步骤2: 查找数据请求

1. 在网络请求列表中，找到获取数据的请求（通常是 `getAll`、`list`、`query` 等）
2. 点击这个请求
3. 选择 **"响应"（Response）** 标签

### 步骤3: 查看字段名称

您会看到后端返回的JSON数据：

```json
{
  "success": true,
  "data": [
    {
      "product_code": "P001",
      "output_process_name": "打包"  ← 后端字段名
    }
  ]
}
```

**找到了！**
- 前端看到："产出工序名称" = "打包"
- 后端字段名：`output_process_name`
- 前端字段名：`outputProcessName`（会自动转换）

---

## 💻 方法4: 代码搜索 - 适合懂一点代码的用户

### 使用VSCode搜索

如果您安装了VSCode编辑器：

1. 打开项目文件夹
2. 按 **Ctrl+Shift+F**（Windows）或 **Cmd+Shift+F**（Mac）
3. 在搜索框中输入您看到的中文字段名（加引号）：
   ```
   "产出工序"
   ```
4. 查看搜索结果，找到 `label="产出工序"` 的代码
5. 看同一行的 `prop="xxx"` 就是字段名

---

## 📝 实战示例：查找"产出工序"字段

### 场景：在新增销售订单页面，您看到"产出工序"字段

#### 方法1实战（推荐）：

1. 打开 `http://localhost:3002/sales/orders/list` → 点击"新增"
2. 按 **F12** → 点击 **选择元素图标** 📍
3. 点击"产出工序"字段
4. 查看代码：

```html
<el-table-column label="产出工序" width="120">
  <template #default="{ row }">
    <el-input v-model="row.outputProcess" size="small" disabled />
  </template>
</el-table-column>
```

**找到了！**
- 浏览器显示：`label="产出工序"`
- 代码字段名：`row.outputProcess`
- **前端字段名**: `outputProcess`

#### 方法3实战：查看后端返回的字段名

1. 按 **F12** → 选择 **"网络"** 标签
2. 刷新页面
3. 找到 `/api/product-manual` 请求 → 点击
4. 查看 **"响应"** 标签：

```json
{
  "success": true,
  "data": [
    {
      "product_code": "6001A0306",
      "output_process_name": "打包"
    }
  ]
}
```

**找到了！**
- 浏览器显示："产出工序" = "打包"
- **后端字段名**: `output_process_name`
- **前端字段名**: `outputProcessName` 或 `outputProcess`

---

## 🎓 字段命名转换规则

### 后端（数据库）→ 前端（页面）

后端使用 **snake_case**（下划线分隔）：
```
output_process_name
product_code
customer_order_no
```

前端使用 **camelCase**（小驼峰）：
```
outputProcessName  或  outputProcess
productCode
customerOrderNo
```

### 转换规则：

1. 去掉下划线 `_`
2. 下划线后的第一个字母改为大写

**示例：**
```
output_process_name  →  outputProcessName
product_code         →  productCode
customer_order_no    →  customerOrderNo
```

---

## 📋 常用字段快速对照表

| 浏览器显示（中文） | 前端字段名 | 后端字段名 | 所在页面 |
|-----------------|-----------|-----------|---------|
| 产出工序 | `outputProcess` | `output_process` | 销售订单子表格 |
| 产出工序名称 | `outputProcessName` | `output_process_name` | 产品手册 |
| 产品编码 | `productCode` | `product_code` | 所有产品相关页面 |
| 产品名称 | `productName` | `product_name` | 所有产品相关页面 |
| 内部销售订单编号 | `internalOrderNo` | `internal_order_no` | 订单列表 |
| 客户订单编号 | `customerOrderNo` | `customer_order_no` | 订单列表 |
| 物料编码 | `materialCode` | `material_code` | 物料库 |
| 工序名称 | `processName` | `process_name` | 工序列表 |

---

## 💡 沟通技巧总结

### ✅ 推荐的沟通方式

**方式1：中文+代码字段名**（最准确）
```
请修改"产出工序"（outputProcess）字段的lookup规则
```

**方式2：使用引号标注中文字段**（您推荐的方式）
```
请在"产品信息"子表格中，当"产品编码"不为空时，
通过lookup从"产品手册"获取"产出工序名称"
```

**方式3：指定页面+字段位置**
```
在 http://localhost:3002/sales/orders/list 页面，
主表格中产品详述后面的字段（产出工序）
```

### ❌ 避免的沟通方式

```
❌ "把那个工序字段改一下"  （太模糊，有多个工序相关字段）
❌ "产品的那个字段"        （产品有几十个字段）
❌ "第3列"                （列的位置可能会变）
```

---

## 🔧 我（AI助手）的处理流程

当您告诉我字段名称时，我会：

### 步骤1: 识别中文字段名
```
您说："产出工序"
```

### 步骤2: 查找对应的代码字段名
我会在代码中搜索：
```javascript
// 搜索包含 label="产出工序" 的代码
<el-table-column prop="outputProcess" label="产出工序" ...>
```

### 步骤3: 确认字段所在页面和表格
```
页面：SalesOrderCreate.vue
表格：产品信息子表格
字段：outputProcess
```

### 步骤4: 查找后端对应字段
```
前端：outputProcess
后端：output_process 或 output_process_name
```

### 步骤5: 执行修改
```javascript
// 修改 outputProcess 字段的逻辑
row.outputProcess = matchedProduct.outputProcessName
```

---

## 📞 快速求助模板

如果您不确定字段名称，可以这样告诉我：

### 模板1：提供页面URL和位置
```
在 http://localhost:3002/sales/orders/list 页面，
点击"新增"后，产品信息子表格中，
产品名称后面的那个字段，显示的是"产出工序"
```

### 模板2：提供字段值
```
在订单列表页面，有个字段显示"打包"，
这个字段的表头是"产出工序"
```

### 模板3：使用截图（最直观）
```
我发送了截图，红框标注的字段
```

---

## 🎯 实用技巧

### 技巧1: 使用浏览器搜索功能
1. 按 **Ctrl+F**（或 **Cmd+F**）打开页面搜索
2. 输入您看到的字段名（中文）
3. 确认这是您要找的字段

### 技巧2: 对比多个页面
有时同一个数据在不同页面叫法不同：
- 产品手册页面：叫"产出工序名称"（`outputProcessName`）
- 销售订单页面：叫"产出工序"（`outputProcess`）
- 但实际值都来自同一个数据源

### 技巧3: 查看字段说明文档
参考我刚才创建的文档：
```
/home/sardenesy/ai_workspaces/ai_desktop_3/docs/字段命名统一规范.md
```

---

## ⚡ 快速练习

### 练习1: 查找"客户订单编号"字段

1. 打开订单列表页面
2. 按F12 → 点击选择元素图标
3. 点击"客户订单编号"字段
4. 查看代码中的字段名

**答案：**
- 前端字段名：`customerOrderNo`
- 后端字段名：`customer_order_no`

### 练习2: 查找"订单数量"字段

在新增订单的产品信息子表格中：

**答案：**
- 前端字段名：`orderQuantity`
- 后端字段名：`order_quantity`

---

## 📚 相关文档

1. **字段命名统一规范**: `/docs/字段命名统一规范.md`
2. **前端页面目录**: `/07-frontend/src/pages/`
3. **API接口目录**: `/07-frontend/src/api/`

---

## 🆘 常见问题

### Q1: 我找到了两个不同的字段名，用哪个？

**A**: 优先使用页面中 `v-model` 绑定的字段名。

**示例：**
```html
<!-- 使用这个 ↓ -->
<el-input v-model="row.outputProcess" />

<!-- 而不是这个 -->
<el-table-column prop="outputProcessName" />
```

### Q2: 前端和后端字段名不一样怎么办？

**A**: 
- 向我描述时使用**前端字段名**（camelCase）
- 我会自动处理前后端转换
- 参考《字段命名统一规范.md》文档

### Q3: 实在找不到字段名怎么办？

**A**: 直接告诉我：
1. 页面URL
2. 字段显示的中文名称
3. 字段显示的位置（在哪个表格、哪个区域）
4. 字段显示的值（如果有）

我会帮您找到准确的字段名！

---

**更新日期**: 2025-12-07  
**下次更新**: 根据用户反馈持续优化
