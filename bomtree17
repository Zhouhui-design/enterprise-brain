const { DataTypes } = require('sequelize');
const sequelize = require('../../config/database');

const BomTemplate = sequelize.define('BomTemplate', {
  id: {
    type: DataTypes.INTEGER,
    primaryKey: true,
    autoIncrement: true
  },
  template_code: {
    type: DataTypes.STRING(50),
    unique: true,
    allowNull: false,
    comment: '模板编码'
  },
  template_name: {
    type: DataTypes.STRING(200),
    allowNull: false,
    comment: '模板名称'
  },
  description: {
    type: DataTypes.TEXT,
    comment: '模板描述'
  },
  max_levels: {
    type: DataTypes.INTEGER,
    defaultValue: 20,
    comment: '最大层级数'
  },
  nodes_per_level: {
    type: DataTypes.INTEGER,
    defaultValue: 30,
    comment: '每层节点数'
  },
  structure_config: {
    type: DataTypes.JSON,
    comment: '结构配置'
  },
  created_by: {
    type: DataTypes.STRING(50),
    comment: '创建人'
  }
}, {
  tableName: 'bom_templates',
  timestamps: true,
  comment: 'BOM树模板表'
});

module.exports = BomTemplate;