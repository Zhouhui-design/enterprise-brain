http://localhost:3003/production-planning/plan-list主生产计划
http://localhost:3003/production-planning/material-preparation-new备料计划
http://localhost:3003/purchase/procurement-plan采购计划
说明：在打开主生产计划，点击“执行排程”按钮，页面提示2条信息：
Request failed with status code 500
服务器内部错误
在打开备料计划：页面提示：加载数据失败    服务器内部错误
在主生产计划存在一个触发数据流规则（应该已经有代码了，帮我修复即可）
规则描述如下
触发页面：主生产计划
目标页面：备料计划
来源页面：主生产计划
触发时机和触发条件：选择1条主生产计划数据，点击“执行排程”按钮
数据流如下：“=”左边是目标页面，“=”右边是来源页面
备料计划编号系统自动生成
来源主计划编号=主生产计划编号
来源工序计划编号=null
父件编号=null
父件名称=null
父件排程数量=null
备料物料编号=产品编号
备料物料名称= 产品名称
物料来源=产品来源
物料单位=销售单位
需求数量=计划数量
是否需要MRP运算=null
实时库存=0
预计结存=0
有效库存=0


需补货数量=备料计划内计算（  备料计划的需求数量- 备料计划的 有效库存），计算前置条件和时机（ 备料计划的需求数量和 备料计划的 有效库存都不为空）


来源工序=产出工序
车间名称=null
父件工序名称=null
工序间隔工时=0
工序间隔单位=天
工序计划排程日期=null
真工序计划排程日期=null
需求日期=计划入库日期


是否下推采购计划=  查询 采购计划页面；查询（采购计划页面的“备料计划编号”包含了 备料计划本行数据的 备料计划编号，返回真，结果=是， 返回null.则=否），触发查询条件：需补货数量>0,且 来源工序=采购； 触发前置条件和触发时机： 需补货数量 和 来源工序 都不为空，触发时机： 需补货数量 和 来源工序 数据生成之后120秒 再查询；  作用是判断有没有被推送到采购计划中。

是否下推工序计划= 查询 工序计划页面；判断属于哪个工序计划页面ifs（来源工序=打包，则查询打包工序计划，来源工序=组装，则查询组装工序计划，...）查询（目标工序计划页面的“来源编号”包含了 备料计划本行数据的 备料计划编号，查询到有，则结果=是， 否则=否），触发查询条件：需补货数量>0,且 来源工序！=采购； 触发前置条件和触发时机： 需补货数量 和 来源工序 都不为空，触发时机： 需补货数量 和 来源工序 数据生成之后120秒 再查询；  作用是判断有没有被推送到工序计划中。


销售订单编号=内部销售订单编号
客户订单编号=客户订单编号
主计划产品编号=主生产计划编号
主计划产品名称=产品编号
主计划排程数量=计划数量
订单承诺交期=订单承诺交期