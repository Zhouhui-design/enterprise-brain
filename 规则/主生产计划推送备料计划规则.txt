http://localhost:3006/inventory/list库存管理
http://localhost:3006/inventory/projected-balance预计结存
http://localhost:3003/production-planning/material-preparation-new备料工序计划
 http://localhost:3003/production-planning/plan-list生产计划列表

问题1：生产计划列表 选择主表格数据，点击“执行排程”按钮，备料计划没有按预期生成，帮我修复
1/  主生成计划列表推送到备料计划的规则如下（代码中已具备，如果已有的，则保留原来的格式，以免逻辑出错，缺少的或不一样的，则更正或补充）
目标页面：备料计划
来源页面：主生产计划
触发页面： 主生产计划
触发条件：至少选择1条 主生产计划数据行，且主生产计划编号不为空，计划数量>0
触发时机：选择1条 主生产计划数据行，且主生产计划编号不为空，计划数量>0 ，再点击“执行排程”按钮
数据流规则如下：（代码中已具备）“=”左边是目标页面，“=”右边是来源页面
1/备料计划编号系统自动生成
2/ 来源主计划编号=主生产计划编号
来源工序计划编号=null
父件编号=Null
父件名称=null
父件排程数量=null
备料物料编号=产品编号
备料物料名称=产品名称
物料来源=产品来源
物料单位=销售单位
需求数量=计划数量
是否需要MRP运算=null
实时库存=lookup(库存管理中的“产品编码”=备料计划的“备料物料编号”，库存管理中的“库存数量”=备料计划的“实时库存”（查询结果为null ,则结果=0）
预计结存=跨表格查询；查询目标页面：预计结存页面；查询条件:lookup(预计结存的“预计发生编号”=备料计划的“备料计划编号”,预计结存的“预计结存”=备料计划的“预计结存”)；查询结果=null ,则结果=0
有效库存= 跨表格查询；查询目标页面：预计结存页面；查询条件:lookup(预计结存的“预计发生编号”=备料计划的“备料计划编号”,预计结存的“发生前可用库存”=备料计划的“有效库存”)；查询结果=null ,则结果=0
需补货数量= 需求数量- 有效库存
来源工序=产出工序
车间名称=null
父件工序名称=null
工序间隔工时=0
工序间隔单位=天
工序计划排程日期=null(按原来的格式，防止逻辑出错）
真工序计划排程日期=备料计划的“工序计划排程日期”+1天 （计算前置条件： 工序计划排程日期不为空）
需求日期=计划入库日期
是否下推采购计划=  在备料计划的“需补货数量”不为空之后5秒内，lookup(采购计划页面的“备料计划编号”=备料计划的“备料计划编号”；返回结果真， 是否下推采购计划=是，返回结果是null ,则 是否下推采购计划=否）注意（采购计划的“备料计划编号”内包含多个不同的“备料计划编号”，例如：采购计划中的备料计划编号（ BL01：20,  BL02：100, BL03：2200），备料计划当前页面的备料计划编号= BL03，则查询结果为真）
（（是否下推工序计划=null;等下一个需求做完，再单独补充这个计算规则））
销售订单编号=内部销售订单编号
客户订单编号=客户订单编号
主计划产品编号= 产品编号
主计划产品名称= 产品名称
主计划排程数量= 计划数量
订单承诺交期=订单承诺交期
