# 环境依赖说明文档

## 一、环境依赖列表

| 依赖名称 | 版本要求 | 用途 |
|---------|---------|------|
| Node.js | 20.x 或更高 | 运行前端和后端项目 |
| Git | 2.0 或更高 | 版本控制 |
| Python | 3.12 或更高 | 用于 node-gyp 编译原生模块 |
| Visual Studio Build Tools | 2019 或更高 | 用于 node-gyp 编译原生模块 |

## 二、安装步骤

### 1. 安装 Node.js
- 下载地址：https://nodejs.org/zh-cn/download/
- 选择 Windows 安装包（.msi）
- 运行安装程序，确保勾选"Add to PATH"选项
- 安装完成后，验证安装：
  ```cmd
  node -v
  npm -v
  ```

### 2. 安装 Git
- 下载地址：https://git-scm.com/download/win
- 运行安装程序，使用默认配置即可
- 安装完成后，验证安装：
  ```cmd
  git --version
  ```

### 3. 安装 Python
- 下载地址：https://www.python.org/downloads/
- 选择 Python 3.12 或更高版本
- 运行安装程序，勾选"Add Python to PATH"选项
- 安装完成后，验证安装：
  ```cmd
  python --version
  ```

### 4. 安装 Visual Studio Build Tools
- 下载地址：https://visualstudio.microsoft.com/zh-hans/build-tools/
- 运行安装程序，选择"C++ 桌面开发"工作负载
- 安装完成后，重启计算机

## 三、配置方法

### 1. 配置 Git 用户名和邮箱
```cmd
git config --global user.name "sardenesy"
git config --global user.email "1994169577@qq.com"
git config --global credential.helper manager-core
```

### 2. 配置 npm 使用指定的 Python
```cmd
# 设置 PYTHON 环境变量
setx PYTHON "C:\Program Files\Python314\python.exe" /M
```

### 3. 安装项目依赖

#### 前端依赖
```cmd
cd enterpise-brain/07-frontend
npm install
```

#### 后端依赖
```cmd
cd enterpise-brain/backend
npm install
```

## 四、常见问题及解决方案

### 1. 后端依赖安装失败
**问题**：安装后端依赖时，node-gyp 编译失败
**解决方案**：
- 确保已安装 Python 3.12 或更高版本
- 确保已安装 Visual Studio Build Tools
- 确保已配置 PYTHON 环境变量
- 重启计算机后重试

### 2. 前端页面加载缓慢
**问题**：前端页面加载缓慢，影响用户体验
**解决方案**：
- 清理浏览器缓存
- 检查网络连接
- 优化前端代码，减少不必要的请求
- 确保服务器性能良好

### 3. 数据库连接失败
**问题**：后端无法连接到数据库
**解决方案**：
- 检查数据库配置
- 确保数据库服务正在运行
- 检查数据库文件权限

## 五、更新记录

| 日期 | 更新内容 | 更新人 |
|------|---------|-------|
| 2025-12-24 | 初始创建文档 | sardenesy |
| 2025-12-24 | 更新UUID版本为8.3.2以解决CommonJS兼容问题 | sardenesy |
| 2025-12-24 | 配置winston-daily-rotate-file进行结构化日志记录 | sardenesy |
| 2025-12-24 | 修复物料表缺少minimum_packaging_quantity列问题 | sardenesy |
