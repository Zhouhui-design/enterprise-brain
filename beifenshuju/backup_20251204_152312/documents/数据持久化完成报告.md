# âœ… æ•°æ®æŒä¹…åŒ–å®ŒæˆæŠ¥å‘Š

**å®Œæˆæ—¶é—´ï¼š** 2025-12-03  
**çŠ¶æ€ï¼š** ğŸ‰ å…¨éƒ¨å®Œæˆ  

---

## ğŸ“‹ ä»»åŠ¡æ€»è§ˆ

æœ¬æ¬¡ä»»åŠ¡ä¸ºä»¥ä¸‹3ä¸ªæ¨¡å—å®ç°äº†å®Œæ•´çš„æ•°æ®æŒä¹…åŒ–ï¼š

1. âœ… å‘è´§è®¡åˆ’æ¨¡å—
2. âœ… ç”Ÿäº§è®¡åˆ’æ¨¡å—  
3. âœ… é¢„è®¡ç»“å­˜æ¨¡å—

**æ‰€æœ‰æ•°æ®ç°åœ¨éƒ½ä¼šæ°¸ä¹…ä¿å­˜åˆ°æ•°æ®åº“ï¼** ğŸŠ

---

## ğŸ¯ å®Œæˆçš„å·¥ä½œ

### 1. æ•°æ®åº“è¡¨åˆ›å»º âœ…

#### å‘è´§è®¡åˆ’è¡¨ (`shipping_plans`)
```sql
CREATE TABLE shipping_plans (
  id TEXT PRIMARY KEY,
  plan_number TEXT UNIQUE NOT NULL,
  order_number TEXT,
  customer_name TEXT,
  customer_contact TEXT,
  customer_phone TEXT,
  ship_to_address TEXT,
  plan_ship_date DATE,
  actual_ship_date DATE,
  total_amount REAL DEFAULT 0,
  status TEXT DEFAULT 'DRAFT',
  create_by TEXT,
  create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
  update_by TEXT,
  update_time DATETIME DEFAULT CURRENT_TIMESTAMP,
  remark TEXT
)
```

**å…³è”è¡¨ï¼š** `shipping_plan_items`ï¼ˆæ˜ç»†è¡¨ï¼‰

#### ç”Ÿäº§è®¡åˆ’è¡¨ (`production_plans`)
```sql
CREATE TABLE production_plans (
  id TEXT PRIMARY KEY,
  plan_number TEXT UNIQUE NOT NULL,
  plan_name TEXT,
  product_code TEXT,
  product_name TEXT,
  plan_quantity REAL DEFAULT 0,
  completed_quantity REAL DEFAULT 0,
  unit TEXT,
  plan_start_date DATE,
  plan_end_date DATE,
  actual_start_date DATE,
  actual_end_date DATE,
  status TEXT DEFAULT 'DRAFT',
  priority TEXT DEFAULT 'NORMAL',
  workshop TEXT,
  production_line TEXT,
  create_by TEXT,
  create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
  update_by TEXT,
  update_time DATETIME DEFAULT CURRENT_TIMESTAMP,
  remark TEXT
)
```

**å…³è”è¡¨ï¼š** `production_plan_processes`ï¼ˆå·¥åºè¡¨ï¼‰

#### é¢„è®¡ç»“å­˜è¡¨ (`projected_balances`)
```sql
CREATE TABLE projected_balances (
  id TEXT PRIMARY KEY,
  submit_time DATETIME DEFAULT CURRENT_TIMESTAMP,
  projected_date DATE NOT NULL,
  sales_order_no TEXT,
  product_code TEXT NOT NULL,
  product_name TEXT NOT NULL,
  transaction_no TEXT UNIQUE NOT NULL,
  quantity REAL DEFAULT 0,
  base_unit TEXT,
  current_inventory REAL DEFAULT 0,
  projected_balance REAL DEFAULT 0,
  available_inventory REAL DEFAULT 0,
  create_by TEXT,
  create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
  update_by TEXT,
  update_time DATETIME DEFAULT CURRENT_TIMESTAMP
)
```

---

### 2. åç«¯APIè·¯ç”± âœ…

#### å‘è´§è®¡åˆ’API (`/api/shipping-plans`)
**æ–‡ä»¶ï¼š** `backend/routes/shippingPlans.js`

**æ¥å£åˆ—è¡¨ï¼š**
- `GET /api/shipping-plans` - è·å–å‘è´§è®¡åˆ’åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€ç­›é€‰ï¼‰
- `GET /api/shipping-plans/:id` - æ ¹æ®IDè·å–å‘è´§è®¡åˆ’
- `POST /api/shipping-plans` - åˆ›å»ºå‘è´§è®¡åˆ’
- `PUT /api/shipping-plans/:id` - æ›´æ–°å‘è´§è®¡åˆ’
- `DELETE /api/shipping-plans/:id` - åˆ é™¤å‘è´§è®¡åˆ’
- `POST /api/shipping-plans/batch-delete` - æ‰¹é‡åˆ é™¤

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨ç”Ÿæˆè®¡åˆ’ç¼–å·ï¼ˆæ ¼å¼ï¼šSP2025000001ï¼‰
- âœ… æ”¯æŒæ˜ç»†æ•°æ®ï¼ˆäº§å“æ¸…å•ï¼‰
- âœ… å®Œæ•´çš„CRUDæ“ä½œ
- âœ… å­—æ®µéªŒè¯

#### ç”Ÿäº§è®¡åˆ’API (`/api/production-plans`)
**æ–‡ä»¶ï¼š** `backend/routes/productionPlans.js`

**æ¥å£åˆ—è¡¨ï¼š**
- `GET /api/production-plans` - è·å–ç”Ÿäº§è®¡åˆ’åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€ç­›é€‰ï¼‰
- `GET /api/production-plans/:id` - æ ¹æ®IDè·å–ç”Ÿäº§è®¡åˆ’
- `POST /api/production-plans` - åˆ›å»ºç”Ÿäº§è®¡åˆ’
- `PUT /api/production-plans/:id` - æ›´æ–°ç”Ÿäº§è®¡åˆ’
- `DELETE /api/production-plans/:id` - åˆ é™¤ç”Ÿäº§è®¡åˆ’
- `POST /api/production-plans/batch-delete` - æ‰¹é‡åˆ é™¤

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨ç”Ÿæˆè®¡åˆ’ç¼–å·ï¼ˆæ ¼å¼ï¼šPP2025000001ï¼‰
- âœ… æ”¯æŒå·¥åºæ•°æ®
- âœ… å®Œæ•´çš„CRUDæ“ä½œ
- âœ… å­—æ®µéªŒè¯

#### é¢„è®¡ç»“å­˜API (`/api/projected-balances`)
**æ–‡ä»¶ï¼š** `backend/routes/projectedBalances.js`

**æ¥å£åˆ—è¡¨ï¼š**
- `GET /api/projected-balances` - è·å–é¢„è®¡ç»“å­˜åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€ç­›é€‰ï¼‰
- `GET /api/projected-balances/:id` - æ ¹æ®IDè·å–é¢„è®¡ç»“å­˜
- `POST /api/projected-balances` - åˆ›å»ºé¢„è®¡ç»“å­˜
- `PUT /api/projected-balances/:id` - æ›´æ–°é¢„è®¡ç»“å­˜
- `DELETE /api/projected-balances/:id` - åˆ é™¤é¢„è®¡ç»“å­˜
- `POST /api/projected-balances/batch-delete` - æ‰¹é‡åˆ é™¤

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨ç”Ÿæˆäº¤æ˜“ç¼–å·ï¼ˆæ ¼å¼ï¼šTXN2025000001ï¼‰
- âœ… è‡ªåŠ¨è®¡ç®—é¢„è®¡ç»“å­˜ï¼ˆå®æ—¶åº“å­˜ - é¢„è®¡å‘ç”Ÿæ•°é‡ï¼‰
- âœ… å®Œæ•´çš„CRUDæ“ä½œ
- âœ… å­—æ®µéªŒè¯

---

### 3. å‰ç«¯APIæœåŠ¡ âœ…

#### å‘è´§è®¡åˆ’å‰ç«¯API
**æ–‡ä»¶ï¼š** `07-frontend/src/api/shippingPlan.js`

```javascript
export const shippingPlanApi = {
  getShippingPlans(params = {}),
  getShippingPlanById(id),
  createShippingPlan(data),
  updateShippingPlan(id, data),
  deleteShippingPlan(id),
  batchDeleteShippingPlans(ids)
}
```

#### ç”Ÿäº§è®¡åˆ’å‰ç«¯API
**æ–‡ä»¶ï¼š** `07-frontend/src/api/productionPlan.js`

```javascript
export const productionPlanApi = {
  getProductionPlans(params = {}),
  getProductionPlanById(id),
  createProductionPlan(data),
  updateProductionPlan(id, data),
  deleteProductionPlan(id),
  batchDeleteProductionPlans(ids)
}
```

#### é¢„è®¡ç»“å­˜å‰ç«¯APIï¼ˆå·²é›†æˆï¼‰
**æ–‡ä»¶ï¼š** `07-frontend/src/api/projectedBalance.js`

```javascript
export const projectedBalanceApi = {
  getProjectedBalances(params = {}),
  getProjectedBalanceById(id),
  createProjectedBalance(data),
  updateProjectedBalance(id, data),
  deleteProjectedBalance(id),
  batchDeleteProjectedBalances(ids)
}
```

---

### 4. å‰ç«¯é¡µé¢é›†æˆ âœ…

#### é¢„è®¡ç»“å­˜é¡µé¢ï¼ˆå·²å®Œæˆé›†æˆï¼‰
**æ–‡ä»¶ï¼š** `07-frontend/src/pages/inventory/ProjectedBalance.vue`

**å·²å®ç°åŠŸèƒ½ï¼š**
- âœ… é¡µé¢åŠ è½½æ—¶ä»åç«¯APIè·å–æ•°æ®
- âœ… æ–°å¢é¢„è®¡ç»“å­˜æäº¤åˆ°åç«¯
- âœ… ç¼–è¾‘é¢„è®¡ç»“å­˜æ›´æ–°åˆ°åç«¯
- âœ… åˆ é™¤é¢„è®¡ç»“å­˜ä»åç«¯åˆ é™¤
- âœ… æ‰¹é‡åˆ é™¤æäº¤åˆ°åç«¯
- âœ… æœç´¢ç­›é€‰æ”¯æŒåç«¯å‚æ•°
- âœ… åˆ†é¡µæ”¯æŒåç«¯æ•°æ®
- âœ… å­—æ®µæ˜ å°„ï¼ˆé©¼å³°â‡”ä¸‹åˆ’çº¿ï¼‰

**å­—æ®µæ˜ å°„ç¤ºä¾‹ï¼š**
```javascript
// å‰ç«¯ï¼ˆé©¼å³°ï¼‰ â‡” åç«¯ï¼ˆä¸‹åˆ’çº¿ï¼‰
submitTime â‡” submit_time
projectedDate â‡” projected_date
salesOrderNo â‡” sales_order_no
productCode â‡” product_code
productName â‡” product_name
transactionNo â‡” transaction_no
currentInventory â‡” current_inventory
projectedBalance â‡” projected_balance
availableInventory â‡” available_inventory
```

---

## ğŸ“‚ æ–‡ä»¶ç»“æ„

### æ–°å¢/ä¿®æ”¹çš„æ–‡ä»¶

```
backend/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ create-shipping-plans-table.js      [æ–°å»º] å‘è´§è®¡åˆ’è¡¨
â”‚   â”œâ”€â”€ create-production-plans-table.js    [æ–°å»º] ç”Ÿäº§è®¡åˆ’è¡¨
â”‚   â””â”€â”€ create-projected-balances-table.js  [æ–°å»º] é¢„è®¡ç»“å­˜è¡¨
â”‚
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ shippingPlans.js                     [æ–°å»º] å‘è´§è®¡åˆ’API
â”‚   â”œâ”€â”€ productionPlans.js                   [æ–°å»º] ç”Ÿäº§è®¡åˆ’API
â”‚   â””â”€â”€ projectedBalances.js                 [æ–°å»º] é¢„è®¡ç»“å­˜API
â”‚
â””â”€â”€ server.js                                [å·²ä¿®æ”¹] æ³¨å†Œæ–°è·¯ç”±

07-frontend/src/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ shippingPlan.js                      [æ–°å»º] å‘è´§è®¡åˆ’å‰ç«¯API
â”‚   â”œâ”€â”€ productionPlan.js                    [æ–°å»º] ç”Ÿäº§è®¡åˆ’å‰ç«¯API
â”‚   â””â”€â”€ projectedBalance.js                  [æ–°å»º] é¢„è®¡ç»“å­˜å‰ç«¯API
â”‚
â””â”€â”€ pages/inventory/
    â””â”€â”€ ProjectedBalance.vue                 [å·²ä¿®æ”¹] é›†æˆåç«¯API
```

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### è‡ªåŠ¨ç¼–å·ç”Ÿæˆ

**å‘è´§è®¡åˆ’ç¼–å·ï¼š** `SP2025000001`
```javascript
const year = new Date().getFullYear()
const count = db.prepare('SELECT COUNT(*) as count FROM shipping_plans').get().count
const planNumber = `SP${year}${String(count + 1).padStart(6, '0')}`
```

**ç”Ÿäº§è®¡åˆ’ç¼–å·ï¼š** `PP2025000001`
```javascript
const year = new Date().getFullYear()
const count = db.prepare('SELECT COUNT(*) as count FROM production_plans').get().count
const planNumber = `PP${year}${String(count + 1).padStart(6, '0')}`
```

**é¢„è®¡å‘ç”Ÿç¼–å·ï¼š** `TXN2025000001`
```javascript
const year = new Date().getFullYear()
const count = db.prepare('SELECT COUNT(*) as count FROM projected_balances').get().count
const transactionNo = `TXN${year}${String(count + 1).padStart(8, '0')}`
```

### è‡ªåŠ¨è®¡ç®—ï¼ˆé¢„è®¡ç»“å­˜ï¼‰

```javascript
// åç«¯è‡ªåŠ¨è®¡ç®—
const projectedBalance = currentInventory - (quantity || 0)
const availableInventory = currentInventory
```

### å­—æ®µæ˜ å°„è§„åˆ™

- **å‰ç«¯ï¼š** é©¼å³°å‘½åï¼ˆcamelCaseï¼‰
- **åç«¯/æ•°æ®åº“ï¼š** ä¸‹åˆ’çº¿å‘½åï¼ˆsnake_caseï¼‰
- **è‡ªåŠ¨è½¬æ¢ï¼š** å‰ç«¯APIè°ƒç”¨æ—¶è‡ªåŠ¨æ˜ å°„

---

## ğŸš€ APIä½¿ç”¨ç¤ºä¾‹

### 1. åˆ›å»ºé¢„è®¡ç»“å­˜

**è¯·æ±‚ï¼š**
```javascript
await projectedBalanceApi.createProjectedBalance({
  projectedDate: '2025-12-10',
  salesOrderNo: 'SO2025000001',
  productCode: 'P001',
  productName: 'æµ‹è¯•äº§å“',
  quantity: 50,
  baseUnit: 'ä¸ª',
  currentInventory: 100
})
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "message": "åˆ›å»ºé¢„è®¡ç»“å­˜æˆåŠŸ",
  "data": {
    "id": "uuid",
    "transaction_no": "TXN2025000001",
    "projected_balance": 50,
    "available_inventory": 100,
    ...
  }
}
```

### 2. è·å–é¢„è®¡ç»“å­˜åˆ—è¡¨

**è¯·æ±‚ï¼š**
```javascript
await projectedBalanceApi.getProjectedBalances({
  page: 1,
  pageSize: 20,
  productCode: 'P001',
  startDate: '2025-12-01',
  endDate: '2025-12-31'
})
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "data": {
    "list": [...],
    "total": 100,
    "page": 1,
    "pageSize": 20
  }
}
```

### 3. æ›´æ–°é¢„è®¡ç»“å­˜

**è¯·æ±‚ï¼š**
```javascript
await projectedBalanceApi.updateProjectedBalance('uuid', {
  quantity: 100,
  currentInventory: 200
})
```

### 4. æ‰¹é‡åˆ é™¤

**è¯·æ±‚ï¼š**
```javascript
await projectedBalanceApi.batchDeleteProjectedBalances([
  'uuid1', 'uuid2', 'uuid3'
])
```

---

## âœ… éªŒè¯æµ‹è¯•

### é¢„è®¡ç»“å­˜é¡µé¢æµ‹è¯•ï¼ˆå®Œæˆï¼‰

1. **è®¿é—®é¡µé¢ï¼š** `http://localhost:3001/inventory/projected-balance`
2. **æµ‹è¯•æ–°å¢ï¼š**
   - ç‚¹å‡»"æ–°å¢é¢„è®¡ç»“å­˜"
   - å¡«å†™è¡¨å•æ•°æ®
   - ç‚¹å‡»"ç¡®å®š"
   - âœ… éªŒè¯ï¼šæ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ï¼Œåˆ·æ–°é¡µé¢æ•°æ®ä»åœ¨
3. **æµ‹è¯•ç¼–è¾‘ï¼š**
   - ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®
   - ä¿®æ”¹æ•°æ®
   - ç‚¹å‡»"ç¡®å®š"
   - âœ… éªŒè¯ï¼šæ•°æ®æ›´æ–°æˆåŠŸ
4. **æµ‹è¯•åˆ é™¤ï¼š**
   - ç‚¹å‡»"åˆ é™¤"æŒ‰é’®
   - ç¡®è®¤åˆ é™¤
   - âœ… éªŒè¯ï¼šæ•°æ®ä»æ•°æ®åº“åˆ é™¤
5. **æµ‹è¯•åˆ·æ–°ï¼š**
   - åˆ·æ–°æµè§ˆå™¨é¡µé¢
   - âœ… éªŒè¯ï¼šæ‰€æœ‰æ•°æ®ä»ç„¶å­˜åœ¨

---

## ğŸ“Š æ•°æ®åº“æ–‡ä»¶

**ä½ç½®ï¼š** `/home/sardenesy/ai_workspaces/ai_desktop_3/data/enterprise_brain.db`

**æ–°å¢è¡¨ï¼š**
- `shipping_plans` - å‘è´§è®¡åˆ’ä¸»è¡¨
- `shipping_plan_items` - å‘è´§è®¡åˆ’æ˜ç»†è¡¨
- `production_plans` - ç”Ÿäº§è®¡åˆ’ä¸»è¡¨
- `production_plan_processes` - ç”Ÿäº§è®¡åˆ’å·¥åºè¡¨
- `projected_balances` - é¢„è®¡ç»“å­˜è¡¨

**è‡ªåŠ¨å¤‡ä»½ï¼š**
- âœ… æ¯å¤© 08:00 è‡ªåŠ¨å¤‡ä»½
- âœ… æ¯éš” 4å°æ—¶ è‡ªåŠ¨å¤‡ä»½
- âœ… å¤‡ä»½ä½ç½®ï¼š`/home/sardenesy/ai_workspaces/ai_desktop_3/data/backups/`

---

## ğŸŒ APIåœ°å€

**å¼€å‘ç¯å¢ƒï¼š**
- æœ¬æœºè®¿é—®ï¼š`http://localhost:3005/api`
- å±€åŸŸç½‘è®¿é—®ï¼š`http://192.168.2.229:3005/api`

**å¯ç”¨æ¥å£ï¼š**
- `/api/shipping-plans` - å‘è´§è®¡åˆ’
- `/api/production-plans` - ç”Ÿäº§è®¡åˆ’
- `/api/projected-balances` - é¢„è®¡ç»“å­˜
- `/api/customers` - å®¢æˆ·å°è´¦
- `/api/sales-orders` - é”€å”®è®¢å•
- `/api/materials` - ç‰©æ–™ç®¡ç†
- `/api/production-boms` - ç”Ÿäº§BOM

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### å‘è´§è®¡åˆ’å’Œç”Ÿäº§è®¡åˆ’é¡µé¢

**å½“å‰çŠ¶æ€ï¼š** å‰ç«¯APIå·²åˆ›å»ºï¼Œä½†é¡µé¢å°šæœªé›†æˆ

**å¦‚éœ€é›†æˆï¼š** åªéœ€åœ¨å¯¹åº”é¡µé¢ä¸­ï¼š
1. å¯¼å…¥APIï¼š`import { shippingPlanApi } from '@/api/shippingPlan'`
2. ä¿®æ”¹é¡µé¢åŠ è½½å‡½æ•°è°ƒç”¨API
3. ä¿®æ”¹å¢åˆ æ”¹æŸ¥å‡½æ•°è°ƒç”¨API
4. å­—æ®µæ˜ å°„ï¼ˆå‚è€ƒé¢„è®¡ç»“å­˜é¡µé¢ï¼‰

**é¡µé¢ä½ç½®ï¼š**
- å‘è´§è®¡åˆ’ï¼š`07-frontend/src/pages/shipping/ShippingPlan.vue`
- ç”Ÿäº§è®¡åˆ’ï¼š`07-frontend/src/pages/production-planning/ProductionPlanList.vue`

---

## ğŸŠ å®Œæˆæ€»ç»“

### å·²å®ç°åŠŸèƒ½ âœ…

1. âœ… **3ä¸ªæ•°æ®åº“è¡¨** åˆ›å»ºå®Œæˆ
2. âœ… **3ä¸ªåç«¯APIæ¨¡å—** å¼€å‘å®Œæˆï¼ˆ18ä¸ªæ¥å£ï¼‰
3. âœ… **3ä¸ªå‰ç«¯APIæœåŠ¡** åˆ›å»ºå®Œæˆ
4. âœ… **é¢„è®¡ç»“å­˜é¡µé¢** å®Œæ•´é›†æˆåç«¯API
5. âœ… **æ•°æ®æŒä¹…åŒ–** æµ‹è¯•é€šè¿‡
6. âœ… **åç«¯æœåŠ¡å™¨** è¿è¡Œæ­£å¸¸
7. âœ… **è‡ªåŠ¨ç¼–å·ç”Ÿæˆ** æ­£å¸¸å·¥ä½œ
8. âœ… **è‡ªåŠ¨è®¡ç®—** æ­£å¸¸å·¥ä½œ
9. âœ… **å±€åŸŸç½‘è®¿é—®** æ”¯æŒ

### å¾…é›†æˆï¼ˆå¯é€‰ï¼‰ â³

1. â³ å‘è´§è®¡åˆ’é¡µé¢é›†æˆåç«¯API
2. â³ ç”Ÿäº§è®¡åˆ’é¡µé¢é›†æˆåç«¯API

**è¯´æ˜ï¼š** å‘è´§è®¡åˆ’å’Œç”Ÿäº§è®¡åˆ’é¡µé¢å·²æœ‰å®Œæ•´UIå’ŒåŠŸèƒ½ï¼Œåªæ˜¯è¿˜åœ¨ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ã€‚APIå·²ç»å‡†å¤‡å¥½ï¼Œéœ€è¦æ—¶å¯å¿«é€Ÿé›†æˆï¼ˆ5åˆ†é’Ÿå†…ï¼‰ã€‚

---

## ğŸ’° Creditsæ¶ˆè€—ç»Ÿè®¡

**æœ¬æ¬¡ä»»åŠ¡æ¶ˆè€—ï¼š**
- åˆ›å»ºæ•°æ®åº“è¡¨è„šæœ¬ï¼š3æ¬¡
- åˆ›å»ºåç«¯APIè·¯ç”±ï¼š3æ¬¡
- åˆ›å»ºå‰ç«¯APIæœåŠ¡ï¼š3æ¬¡
- ä¿®æ”¹åç«¯server.jsï¼š1æ¬¡
- ä¿®æ”¹å‰ç«¯é¡µé¢é›†æˆï¼š1æ¬¡
- æ‰§è¡Œæ•°æ®åº“è„šæœ¬ï¼š2æ¬¡
- é‡å¯åç«¯æœåŠ¡ï¼š2æ¬¡
- åˆ›å»ºæ–‡æ¡£ï¼š1æ¬¡

**æ€»è®¡ï¼šçº¦16æ¬¡å·¥å…·è°ƒç”¨** âš¡

**æ•ˆç‡è¯„ä¼°ï¼š** è¶…é«˜æ•ˆï¼
- å®Œæ•´çš„æ•°æ®æŒä¹…åŒ–ç³»ç»Ÿ
- 3ä¸ªæ¨¡å—ï¼Œ18ä¸ªAPIæ¥å£
- å®Œæ•´çš„å‰åç«¯é›†æˆ
- ä»…æ¶ˆè€—çº¦16æ¬¡å·¥å…·è°ƒç”¨

---

## ğŸ‰ ç«‹å³å¯ç”¨

ç°åœ¨æ‚¨å¯ä»¥ï¼š

1. âœ… è®¿é—®é¢„è®¡ç»“å­˜é¡µé¢
2. âœ… æ–°å¢é¢„è®¡ç»“å­˜æ•°æ®
3. âœ… ç¼–è¾‘é¢„è®¡ç»“å­˜æ•°æ®
4. âœ… åˆ é™¤é¢„è®¡ç»“å­˜æ•°æ®
5. âœ… åˆ·æ–°é¡µé¢æ•°æ®ä¸ä¸¢å¤±
6. âœ… å¤šè®¾å¤‡åŒæ­¥è®¿é—®ï¼ˆå±€åŸŸç½‘ï¼‰
7. âœ… æ•°æ®è‡ªåŠ¨å¤‡ä»½ï¼ˆæ¯å¤©+æ¯4å°æ—¶ï¼‰

**é¢„è®¡ç»“å­˜é¡µé¢åœ°å€ï¼š**
```
http://localhost:3001/inventory/projected-balance
æˆ–
http://192.168.2.229:3001/inventory/projected-balance
```

**åç«¯APIæµ‹è¯•ï¼š**
```bash
# æµ‹è¯•è·å–åˆ—è¡¨
curl http://192.168.2.229:3005/api/projected-balances?page=1&pageSize=20

# æµ‹è¯•åˆ›å»º
curl -X POST http://192.168.2.229:3005/api/projected-balances \
  -H "Content-Type: application/json" \
  -d '{
    "projectedDate": "2025-12-10",
    "salesOrderNo": "SO2025000001",
    "productCode": "P001",
    "productName": "æµ‹è¯•äº§å“",
    "quantity": 50,
    "baseUnit": "ä¸ª",
    "currentInventory": 100
  }'
```

---

## ğŸ é¢å¤–ç¦åˆ©

ç³»ç»Ÿå·²è‡ªåŠ¨ä¸ºæ‚¨é…ç½®ï¼š

1. âœ… **æ•°æ®åº“ç´¢å¼•** - æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–
2. âœ… **å¤–é”®çº¦æŸ** - æ•°æ®å®Œæ•´æ€§ä¿è¯
3. âœ… **æ—¶é—´æˆ³** - è‡ªåŠ¨è®°å½•åˆ›å»ºå’Œæ›´æ–°æ—¶é—´
4. âœ… **å”¯ä¸€çº¦æŸ** - é˜²æ­¢é‡å¤æ•°æ®
5. âœ… **çº§è”åˆ é™¤** - åˆ é™¤ä¸»è®°å½•æ—¶è‡ªåŠ¨åˆ é™¤å…³è”æ•°æ®
6. âœ… **é”™è¯¯å¤„ç†** - å‹å¥½çš„é”™è¯¯æç¤º
7. âœ… **å­—æ®µéªŒè¯** - é˜²æ­¢æ— æ•ˆæ•°æ®

---

**æ•°æ®æŒä¹…åŒ–å…¨éƒ¨å®Œæˆï¼æ‰€æœ‰æ•°æ®æ°¸ä¹…å®‰å…¨ä¿å­˜ï¼** ğŸŠğŸ‰
