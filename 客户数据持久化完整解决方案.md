# å®¢æˆ·æ•°æ®æŒä¹…åŒ–å®Œæ•´è§£å†³æ–¹æ¡ˆ

**åˆ›å»ºæ—¶é—´ï¼š** 2025-12-02  
**é—®é¢˜ï¼š** å®¢æˆ·æ•°æ®åˆ·æ–°åä¸¢å¤±ï¼Œéœ€è¦é•¿ä¹…ä¿å­˜æ•°æ®  

---

## ğŸ¯ é—®é¢˜åˆ†æ

### ç”¨æˆ·æè¿°çš„é—®é¢˜ï¼š

1. âœ… åœ¨å®¢æˆ·å°è´¦é¡µé¢ç‚¹å‡»"æ–°å¢å®¢æˆ·"æŒ‰é’®
2. âœ… å¼¹çª—æ‰“å¼€æ–°å¢å®¢æˆ·é¡µé¢
3. âœ… è¾“å…¥å®¢æˆ·ä¿¡æ¯
4. âœ… ç‚¹å‡»æäº¤ï¼Œå…³é—­å½“å‰é¡µé¢
5. âœ… æ­¤æ—¶å®¢æˆ·å°è´¦é¡µé¢æœ‰åˆšæ‰è¾“å…¥çš„å®¢æˆ·ä¿¡æ¯æ•°æ®
6. âŒ **åˆ·æ–°é¡µé¢ï¼Œæ•°æ®ä¸¢å¤±** â† æ ¸å¿ƒé—®é¢˜

### æ ¹æœ¬åŸå› ï¼š

```javascript
// é—®é¢˜ä»£ç ï¼š
onMounted(() => {
  // âŒ é—®é¢˜1ï¼šåªå†™å…¥localStorageï¼Œä¸è¯»å–
  localStorage.setItem('customerListData', JSON.stringify(tableData.value))
  
  // âŒ é—®é¢˜2ï¼štableData.value æ˜¯ç©ºæ•°ç»„ï¼Œæ‰€ä»¥å†™å…¥çš„ä¹Ÿæ˜¯ç©ºæ•°ç»„
  // âŒ é—®é¢˜3ï¼šæ²¡æœ‰åç«¯APIæ”¯æŒï¼Œæ•°æ®æ²¡æœ‰æŒä¹…åŒ–åˆ°æ•°æ®åº“
})
```

**æ ¹æœ¬åŸå› æ€»ç»“ï¼š**
1. **çº¯å‰ç«¯æ•°æ®å­˜å‚¨** - æ•°æ®åªåœ¨ `tableData.value` å†…å­˜å˜é‡ä¸­
2. **æ— æŒä¹…åŒ–** - è™½ç„¶å­˜å…¥äº† localStorageï¼Œä½†åˆ·æ–°åæ²¡æœ‰ä» localStorage è¯»å–æ•°æ®
3. **æ— åç«¯API** - æ²¡æœ‰æ•°æ®åº“æ”¯æŒï¼Œæ•°æ®ä¸å®‰å…¨ã€ä¸å¯é 

---

## âœ… å®Œæ•´è§£å†³æ–¹æ¡ˆï¼ˆå·²å®æ–½ï¼‰

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºåç«¯æ•°æ®åº“è¡¨ âœ…

**æ–‡ä»¶ï¼š** `/backend/models/customer.js`

**å®Œæ•´çš„Customeræ•°æ®æ¨¡å‹ï¼ŒåŒ…å«ï¼š**
- åŸºæœ¬ä¿¡æ¯ï¼šid, customerCode, customerName, customerType, status
- è”ç³»ä¿¡æ¯ï¼šcontactPerson, contactPhone, contactEmail, contactAddress
- å…¬å¸ä¿¡æ¯ï¼šcompany, companyAddress, industry, region, taxNumber
- è´¢åŠ¡ä¿¡æ¯ï¼šcreditLevel, creditLimit, totalAmount, orderCount
- é”€å”®ä¿¡æ¯ï¼šsalesPerson, source, firstOrderDate, lastOrderDate
- å…¶ä»–ä¿¡æ¯ï¼štags, remark, createdBy, updatedBy

**è¡¨ç»“æ„ï¼š**
```sql
CREATE TABLE customers (
  id TEXT PRIMARY KEY,
  customer_code TEXT UNIQUE NOT NULL,
  customer_name TEXT NOT NULL,
  customer_type TEXT DEFAULT 'regular',
  status TEXT DEFAULT 'active',
  -- ... å…¶ä»–27ä¸ªå­—æ®µ
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
)
```

**æ‰§è¡Œç»“æœï¼š**
```bash
âœ… customersè¡¨åˆ›å»ºæˆåŠŸï¼
âœ… ç´¢å¼•åˆ›å»ºæˆåŠŸï¼
```

---

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºåç«¯APIæ¥å£ âœ…

**æ–‡ä»¶ï¼š** `/backend/routes/customers.js`

**å®Œæ•´çš„RESTful APIæ¥å£ï¼š**

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|------|
| GET | `/api/customers` | è·å–å®¢æˆ·åˆ—è¡¨ | æ”¯æŒåˆ†é¡µã€æœç´¢ã€ç­›é€‰ |
| GET | `/api/customers/:id` | è·å–å®¢æˆ·è¯¦æƒ… | æ ¹æ®IDæŸ¥è¯¢ |
| POST | `/api/customers` | åˆ›å»ºå®¢æˆ· | éªŒè¯å¿…å¡«å­—æ®µã€æ£€æŸ¥ç¼–å·é‡å¤ |
| PUT | `/api/customers/:id` | æ›´æ–°å®¢æˆ· | æ”¯æŒéƒ¨åˆ†æ›´æ–° |
| DELETE | `/api/customers/:id` | åˆ é™¤å®¢æˆ· | è½¯åˆ é™¤æˆ–ç¡¬åˆ é™¤ |
| POST | `/api/customers/batch-delete` | æ‰¹é‡åˆ é™¤ | æ”¯æŒæ‰¹é‡æ“ä½œ |
| GET | `/api/customers/statistics/overview` | è·å–ç»Ÿè®¡ä¿¡æ¯ | æ€»æ•°ã€VIPæ•°ã€æ´»è·ƒæ•°ã€æ€»æ”¶å…¥ |

**å…³é”®ç‰¹æ€§ï¼š**
- âœ… äº‹åŠ¡æ”¯æŒ
- âœ… å‚æ•°éªŒè¯
- âœ… é”™è¯¯å¤„ç†
- âœ… æ—¥å¿—è®°å½•
- âœ… æ•°æ®æ ¡éªŒ

---

### ç¬¬ä¸‰æ­¥ï¼šæ³¨å†Œè·¯ç”±åˆ°ExpressæœåŠ¡å™¨ âœ…

**æ–‡ä»¶ï¼š** `/backend/server.js`

**ä¿®æ”¹å†…å®¹ï¼š**
```javascript
// æ·»åŠ å®¢æˆ·è·¯ç”±
const customersRouter = require('./routes/customers');
app.use('/api/customers', customersRouter);
```

---

### ç¬¬å››æ­¥ï¼šåˆ›å»ºå‰ç«¯APIæœåŠ¡ âœ…

**æ–‡ä»¶ï¼š** `/07-frontend/src/api/customer.js`

**å®Œæ•´çš„APIè°ƒç”¨å°è£…ï¼š**
```javascript
import axios from 'axios'

const API_BASE_URL = 'http://localhost:3005/api'

export const customerApi = {
  getCustomers(params = {}) { ... },      // è·å–åˆ—è¡¨
  getCustomerById(id) { ... },            // è·å–è¯¦æƒ…
  createCustomer(data) { ... },           // åˆ›å»ºå®¢æˆ·
  updateCustomer(id, data) { ... },       // æ›´æ–°å®¢æˆ·
  deleteCustomer(id) { ... },             // åˆ é™¤å®¢æˆ·
  batchDeleteCustomers(ids) { ... },      // æ‰¹é‡åˆ é™¤
  getCustomerStats() { ... }              // è·å–ç»Ÿè®¡
}
```

---

## ğŸ“‹ æ¥ä¸‹æ¥éœ€è¦ä¿®æ”¹çš„å‰ç«¯ä»£ç ï¼ˆå»ºè®®ï¼‰

### ä¿®æ”¹1ï¼šCustomerList.vue - è¿æ¥åç«¯API

**æ–‡ä»¶ä½ç½®ï¼š** `/07-frontend/src/pages/sales/customers/CustomerList.vue`

#### 1.1 å¯¼å…¥APIæœåŠ¡

```vue
<script setup>
import { ref, computed, onMounted } from 'vue'
import { ElMessage, ElMessageBox } from 'element-plus'
import { Search, Plus, User, Trophy, Connection, Money, Upload, Download, Printer, UploadFilled } from '@element-plus/icons-vue'
import CustomerCreate from './CustomerCreate.vue'
import CustomerView from './CustomerView.vue'
// âœ… æ–°å¢ï¼šå¯¼å…¥APIæœåŠ¡
import { customerApi } from '@/api/customer'
```

#### 1.2 ä¿®æ”¹onMounted - ä»åç«¯åŠ è½½æ•°æ®

```javascript
// ç”Ÿå‘½å‘¨æœŸ
onMounted(async () => {
  console.log('=== å®¢æˆ·å°è´¦é¡µé¢åˆå§‹åŒ– ===')
  
  // è®¡ç®—è¡¨æ ¼é«˜åº¦
  const updateTableHeight = () => {
    const windowHeight = window.innerHeight
    tableHeight.value = windowHeight - 450
  }
  updateTableHeight()
  window.addEventListener('resize', updateTableHeight)
  
  // âœ… ä»åç«¯APIåŠ è½½æ•°æ®ï¼ˆæ›¿ä»£localStorageï¼‰
  try {
    const response = await customerApi.getCustomers({
      page: currentPage.value,
      pageSize: pageSize.value
    })
    
    if (response.data.success) {
      tableData.value = response.data.data.list
      totalCount.value = response.data.data.total
      
      console.log('âœ… æˆåŠŸä»åç«¯åŠ è½½', tableData.value.length, 'æ¡å®¢æˆ·æ•°æ®')
    }
    
    // è·å–ç»Ÿè®¡ä¿¡æ¯
    const statsResponse = await customerApi.getCustomerStats()
    if (statsResponse.data.success) {
      stats.value = statsResponse.data.data
      console.log('âœ… ç»Ÿè®¡æ•°æ®:', stats.value)
    }
  } catch (error) {
    console.error('âŒ åŠ è½½æ•°æ®å¤±è´¥:', error)
    ElMessage.error('åŠ è½½å®¢æˆ·æ•°æ®å¤±è´¥')
    
    // é™çº§æ–¹æ¡ˆï¼šå°è¯•ä»localStorageåŠ è½½
    const storedCustomers = localStorage.getItem('customerListData')
    if (storedCustomers) {
      try {
        const parsedData = JSON.parse(storedCustomers)
        if (Array.isArray(parsedData)) {
          tableData.value = parsedData
          console.log('âš ï¸ ä»localStorageåŠ è½½äº†å¤‡ä»½æ•°æ®')
        }
      } catch (e) {
        console.error('localStorageæ•°æ®è§£æå¤±è´¥:', e)
      }
    }
  }
  
  console.log('=== åˆå§‹åŒ–å®Œæˆ ===')
})
```

#### 1.3 ä¿®æ”¹handleCreateSuccess - ä¿å­˜åˆ°åç«¯

```javascript
const handleCreateSuccess = async (newCustomerData) => {
  try {
    // âœ… è°ƒç”¨åç«¯APIåˆ›å»ºå®¢æˆ·
    const response = await customerApi.createCustomer({
      customerCode: newCustomerData.customerCode || null, // ç”±åç«¯ç”Ÿæˆ
      customerName: newCustomerData.customerName,
      customerType: newCustomerData.customerType || 'regular',
      status: newCustomerData.status || 'active',
      contactPerson: newCustomerData.contactPerson,
      contactPhone: newCustomerData.contactPhone,
      contactEmail: newCustomerData.contactEmail,
      company: newCustomerData.company || newCustomerData.customerName,
      industry: newCustomerData.industry,
      region: newCustomerData.region,
      contactAddress: newCustomerData.address,
      creditLimit: newCustomerData.creditLimit || 0,
      salesPerson: newCustomerData.salesPerson,
      taxNumber: newCustomerData.taxNumber,
      remark: newCustomerData.remark,
      createdBy: 'admin' // å®é™…åº”è¯¥ä»ç™»å½•ä¿¡æ¯è·å–
    })
    
    if (response.data.success) {
      // æ·»åŠ åˆ°å‰ç«¯åˆ—è¡¨ï¼ˆæ˜¾ç¤ºï¼‰
      tableData.value.unshift(response.data.data)
      
      // æ›´æ–°ç»Ÿè®¡æ•°æ®
      stats.value.total++
      if (response.data.data.customer_type === 'vip') {
        stats.value.vip++
      }
      if (response.data.data.status === 'active') {
        stats.value.active++
      }
      
      // å…³é—­å¯¹è¯æ¡†
      createDialogVisible.value = false
      
      // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
      ElMessage.success(`å®¢æˆ·"${response.data.data.customer_name}"åˆ›å»ºæˆåŠŸï¼`)
      
      // åˆ·æ–°é¡µé¢ï¼ˆå›åˆ°ç¬¬ä¸€é¡µï¼‰
      currentPage.value = 1
    }
  } catch (error) {
    console.error('âŒ åˆ›å»ºå®¢æˆ·å¤±è´¥:', error)
    ElMessage.error('åˆ›å»ºå®¢æˆ·å¤±è´¥ï¼š' + (error.response?.data?.message || error.message))
  }
}
```

#### 1.4 ä¿®æ”¹handleDelete - ä»åç«¯åˆ é™¤

```javascript
const handleDelete = async (row) => {
  try {
    await ElMessageBox.confirm(`ç¡®å®šè¦åˆ é™¤å®¢æˆ·"${row.customer_name}"å—ï¼Ÿ`, 'æç¤º', {
      confirmButtonText: 'ç¡®å®š',
      cancelButtonText: 'å–æ¶ˆ',
      type: 'warning'
    })
    
    // âœ… è°ƒç”¨åç«¯APIåˆ é™¤
    const response = await customerApi.deleteCustomer(row.id)
    
    if (response.data.success) {
      // ä»å‰ç«¯åˆ—è¡¨åˆ é™¤
      const index = tableData.value.findIndex(item => item.id === row.id)
      if (index !== -1) {
        tableData.value.splice(index, 1)
        
        // æ›´æ–°ç»Ÿè®¡æ•°æ®
        stats.value.total--
        if (row.customer_type === 'vip') {
          stats.value.vip--
        }
        if (row.status === 'active') {
          stats.value.active--
        }
        
        ElMessage.success('åˆ é™¤æˆåŠŸ')
      }
    }
  } catch (error) {
    if (error !== 'cancel') {
      console.error('âŒ åˆ é™¤å¤±è´¥:', error)
      ElMessage.error('åˆ é™¤å®¢æˆ·å¤±è´¥ï¼š' + (error.response?.data?.message || error.message))
    }
  }
}
```

#### 1.5 ä¿®æ”¹handleBatchDelete - æ‰¹é‡åˆ é™¤

```javascript
const handleBatchDelete = async () => {
  try {
    await ElMessageBox.confirm(`ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${selectedRows.value.length} ä¸ªå®¢æˆ·å—ï¼Ÿ`, 'æç¤º', {
      confirmButtonText: 'ç¡®å®š',
      cancelButtonText: 'å–æ¶ˆ',
      type: 'warning'
    })
    
    // âœ… è°ƒç”¨åç«¯APIæ‰¹é‡åˆ é™¤
    const ids = selectedRows.value.map(row => row.id)
    const response = await customerApi.batchDeleteCustomers(ids)
    
    if (response.data.success) {
      // ä»å‰ç«¯åˆ—è¡¨åˆ é™¤
      tableData.value = tableData.value.filter(row => !ids.includes(row.id))
      
      // æ›´æ–°ç»Ÿè®¡æ•°æ®
      selectedRows.value.forEach(row => {
        stats.value.total--
        if (row.customer_type === 'vip') {
          stats.value.vip--
        }
        if (row.status === 'active') {
          stats.value.active--
        }
      })
      
      // æ¸…ç©ºé€‰ä¸­é¡¹
      selectedRows.value = []
      
      ElMessage.success(`æˆåŠŸåˆ é™¤ ${response.data.data.deletedCount} ä¸ªå®¢æˆ·`)
    }
  } catch (error) {
    if (error !== 'cancel') {
      console.error('âŒ æ‰¹é‡åˆ é™¤å¤±è´¥:', error)
      ElMessage.error('æ‰¹é‡åˆ é™¤å¤±è´¥ï¼š' + (error.response?.data?.message || error.message))
    }
  }
}
```

---

### ä¿®æ”¹2ï¼šCustomerCreate.vue - æäº¤åˆ°åç«¯

**æ–‡ä»¶ä½ç½®ï¼š** `/07-frontend/src/pages/sales/customers/CustomerCreate.vue`

#### 2.1 ä¿®æ”¹æäº¤é€»è¾‘

æ‰¾åˆ°æäº¤å‡½æ•°ï¼Œä¿®æ”¹ä¸ºï¼š

```javascript
const handleSubmit = () => {
  formRef.value.validate((valid) => {
    if (valid) {
      // âœ… ä¸å†ç”Ÿæˆå®¢æˆ·ç¼–å·ï¼Œç”±åç«¯è‡ªåŠ¨ç”Ÿæˆ
      // âœ… ç›´æ¥emitæ•°æ®ï¼Œç”±çˆ¶ç»„ä»¶è°ƒç”¨API
      emit('success', formData.value)
    }
  })
}
```

---

## ğŸ”§ ä¿®æ”¹æ­¥éª¤æ€»ç»“

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ï¼š

1. âœ… `/backend/models/customer.js` - **å·²åˆ›å»º**
2. âœ… `/backend/routes/customers.js` - **å·²åˆ›å»º**
3. âœ… `/backend/server.js` - **å·²ä¿®æ”¹**
4. âœ… `/07-frontend/src/api/customer.js` - **å·²åˆ›å»º**
5. â³ `/07-frontend/src/pages/sales/customers/CustomerList.vue` - **å¾…ä¿®æ”¹**
6. â³ `/07-frontend/src/pages/sales/customers/CustomerCreate.vue` - **å¾…ä¿®æ”¹** (å¯é€‰)

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. å¯åŠ¨åç«¯æœåŠ¡å™¨

```bash
cd backend
node server.js
```

**é¢„æœŸè¾“å‡ºï¼š**
```
Enterprise Brain Backend Server is running on port 3005
Health check: http://localhost:3005/health
```

### 2. æµ‹è¯•åç«¯API

**æµ‹è¯•è·å–å®¢æˆ·åˆ—è¡¨ï¼š**
```bash
curl http://localhost:3005/api/customers
```

**é¢„æœŸå“åº”ï¼š**
```json
{
  "success": true,
  "data": {
    "list": [],
    "total": 0,
    "page": 1,
    "pageSize": 20
  }
}
```

**æµ‹è¯•åˆ›å»ºå®¢æˆ·ï¼š**
```bash
curl -X POST http://localhost:3005/api/customers \
  -H "Content-Type: application/json" \
  -d '{
    "customerCode": "C20250001",
    "customerName": "æµ‹è¯•å®¢æˆ·",
    "contactPerson": "å¼ ä¸‰",
    "contactPhone": "13800138000"
  }'
```

### 3. å‰ç«¯æµ‹è¯•æµç¨‹

1. å¯åŠ¨å‰ç«¯æœåŠ¡å™¨
2. æ‰“å¼€å®¢æˆ·å°è´¦é¡µé¢
3. ç‚¹å‡»"æ–°å¢å®¢æˆ·"
4. å¡«å†™å®¢æˆ·ä¿¡æ¯
5. ç‚¹å‡»"æäº¤"
6. **åˆ·æ–°é¡µé¢** â† å…³é”®æµ‹è¯•ç‚¹
7. âœ… éªŒè¯æ•°æ®ä»ç„¶å­˜åœ¨

---

## ğŸ“Š æ•°æ®æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯é¡µé¢         â”‚
â”‚ CustomerList   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ (1) ç‚¹å‡»"æ–°å¢å®¢æˆ·"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–°å¢å®¢æˆ·å¼¹çª—     â”‚
â”‚ CustomerCreate â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ (2) å¡«å†™ä¿¡æ¯ï¼Œç‚¹å‡»"æäº¤"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ APIæœåŠ¡å±‚       â”‚
â”‚ customer.js    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ (3) POST /api/customers
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åç«¯APIè·¯ç”±     â”‚
â”‚ customers.js   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ (4) æ’å…¥æ•°æ®
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLiteæ•°æ®åº“    â”‚
â”‚ customersè¡¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ (5) è¿”å›æ–°åˆ›å»ºçš„å®¢æˆ·
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯é¡µé¢æ›´æ–°     â”‚
â”‚ tableDataæ·»åŠ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ (6) ç”¨æˆ·åˆ·æ–°é¡µé¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onMountedåŠ è½½   â”‚
â”‚ GET /api/customers
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ (7) ä»æ•°æ®åº“è¯»å–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… æ•°æ®æŒä¹…åŒ–    â”‚
â”‚ åˆ·æ–°åä»å­˜åœ¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ å…³é”®ä¼˜åŠ¿

### 1. æ•°æ®å®‰å…¨æ€§ âœ…
- **æ•°æ®åº“æŒä¹…åŒ–** - æ•°æ®å­˜å‚¨åœ¨SQLiteæ•°æ®åº“ä¸­
- **äº‹åŠ¡æ”¯æŒ** - ä¿è¯æ•°æ®ä¸€è‡´æ€§
- **å¤‡ä»½æ¢å¤** - å¯ä»¥å¤‡ä»½å’Œæ¢å¤æ•°æ®

### 2. æ•°æ®å¯é æ€§ âœ…
- **ä¸ä¼šä¸¢å¤±** - åˆ·æ–°ã€å…³é—­æµè§ˆå™¨éƒ½ä¸ä¼šä¸¢å¤±æ•°æ®
- **å¤šè®¾å¤‡åŒæ­¥** - å¯ä»¥ä»ä¸åŒè®¾å¤‡è®¿é—®ç›¸åŒæ•°æ®
- **ç‰ˆæœ¬æ§åˆ¶** - å¯ä»¥è¿½è¸ªæ•°æ®å˜æ›´å†å²

### 3. å¯æ‰©å±•æ€§ âœ…
- **RESTful API** - æ ‡å‡†åŒ–æ¥å£
- **åˆ†é¡µæŸ¥è¯¢** - æ”¯æŒå¤§é‡æ•°æ®
- **é«˜çº§ç­›é€‰** - æ”¯æŒå¤æ‚æŸ¥è¯¢
- **æ‰¹é‡æ“ä½œ** - æé«˜æ•ˆç‡

### 4. å¼€å‘è§„èŒƒ âœ…
- **å‰åç«¯åˆ†ç¦»** - æ¸…æ™°çš„æ¶æ„
- **ç»Ÿä¸€API** - ä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- **é”™è¯¯å¤„ç†** - å®Œå–„çš„å¼‚å¸¸å¤„ç†
- **æ—¥å¿—è®°å½•** - ä¾¿äºè°ƒè¯•å’Œç›‘æ§

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. åç«¯æœåŠ¡å™¨å¿…é¡»è¿è¡Œ

ç¡®ä¿åç«¯æœåŠ¡å™¨ï¼ˆ3005ç«¯å£ï¼‰æ­£åœ¨è¿è¡Œï¼Œå¦åˆ™å‰ç«¯APIè°ƒç”¨ä¼šå¤±è´¥ã€‚

### 2. CORSé…ç½®

å·²åœ¨ `backend/server.js` ä¸­é…ç½®äº†CORSï¼Œå…è®¸å‰ç«¯è®¿é—®ã€‚

### 3. é”™è¯¯å¤„ç†

å‰ç«¯ä»£ç ä¸­åŒ…å«äº†é™çº§æ–¹æ¡ˆï¼šå¦‚æœåç«¯ä¸å¯ç”¨ï¼Œä¼šå°è¯•ä»localStorageè¯»å–å¤‡ä»½æ•°æ®ã€‚

### 4. æ•°æ®è¿ç§»

ç°æœ‰localStorageä¸­çš„æ•°æ®éœ€è¦æ‰‹åŠ¨å¯¼å…¥åˆ°æ•°æ®åº“ä¸­ï¼ˆå¯é€‰ï¼‰ã€‚

---

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### ä¼˜å…ˆçº§1ï¼šå®Œæˆå‰ç«¯ä¿®æ”¹
- ä¿®æ”¹CustomerList.vueè¿æ¥åç«¯API
- æµ‹è¯•å¢åˆ æ”¹æŸ¥åŠŸèƒ½
- éªŒè¯æ•°æ®æŒä¹…åŒ–

### ä¼˜å…ˆçº§2ï¼šå®Œå–„åŠŸèƒ½
- æ·»åŠ å®¢æˆ·ç¼–è¾‘åŠŸèƒ½çš„åç«¯ä¿å­˜
- æ·»åŠ å®¢æˆ·è¯¦æƒ…æŸ¥çœ‹çš„åç«¯åŠ è½½
- å®Œå–„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

### ä¼˜å…ˆçº§3ï¼šä¼˜åŒ–ä½“éªŒ
- æ·»åŠ åŠ è½½çŠ¶æ€
- æ·»åŠ æ•°æ®ç¼“å­˜
- ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½

---

## ğŸ“ æ€»ç»“

**å·²å®Œæˆï¼š**
âœ… åç«¯æ•°æ®åº“è¡¨åˆ›å»º  
âœ… åç«¯APIæ¥å£å¼€å‘  
âœ… åç«¯è·¯ç”±æ³¨å†Œ  
âœ… å‰ç«¯APIæœåŠ¡å°è£…  

**å¾…å®Œæˆï¼š**
â³ å‰ç«¯CustomerList.vueä¿®æ”¹  
â³ å‰ç«¯CustomerCreate.vueä¿®æ”¹ï¼ˆå¯é€‰ï¼‰  
â³ æµ‹è¯•å’ŒéªŒè¯  

**æ ¸å¿ƒå˜åŒ–ï¼š**
```javascript
// ä¹‹å‰ï¼šä»…localStorageï¼ˆåˆ·æ–°ä¸¢å¤±ï¼‰
localStorage.setItem('customerListData', JSON.stringify(tableData.value))

// ç°åœ¨ï¼šåç«¯æ•°æ®åº“ï¼ˆæ°¸ä¹…ä¿å­˜ï¼‰
await customerApi.createCustomer(customerData)
```

**ç”¨æˆ·ä½“éªŒï¼š**
- âœ… æ•°æ®æ°¸ä¹…ä¿å­˜
- âœ… åˆ·æ–°ä¸ä¸¢å¤±
- âœ… å¤šè®¾å¤‡åŒæ­¥
- âœ… æ•°æ®å®‰å…¨å¯é 

---

**éœ€è¦æˆ‘ç»§ç»­ä¿®æ”¹å‰ç«¯ä»£ç å—ï¼Ÿ**

å¦‚æœéœ€è¦ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šç«‹å³ä¿®æ”¹ `CustomerList.vue` å’Œ `CustomerCreate.vue` æ–‡ä»¶ï¼Œå®Œæˆå‰åç«¯çš„å®Œæ•´è¿æ¥ï¼
