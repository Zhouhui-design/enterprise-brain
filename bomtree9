// 保存BOM树到数据库或文件系统
saveBomTreeToDatabase(bomTreeName) {
  const bomData = {
    name: bomTreeName,
    l0Node: this.l0Node,
    bomTreeData: this.bomTreeData,
    maxLevels: this.maxLevels,
    nodesPerParent: this.nodesPerParent,
    createdTime: new Date().toISOString(),
    lastModified: new Date().toISOString()
  };
  
  // 这里调用API保存到后端
  // api.saveBomTree(bomData).then(() => {
  //   alert('BOM树已保存');
  // });
  
  // 临时保存到localStorage
  const savedTrees = JSON.parse(localStorage.getItem('savedBomTrees') || '[]');
  savedTrees.push(bomData);
  localStorage.setItem('savedBomTrees', JSON.stringify(savedTrees));
  
  alert(`BOM树 "${bomTreeName}" 已保存`);
},

// 从保存的记录中加载BOM树
loadBomTreeFromStorage(treeId) {
  const savedTrees = JSON.parse(localStorage.getItem('savedBomTrees') || '[]');
  const treeData = savedTrees.find(tree => tree.id === treeId);
  
  if (treeData) {
    this.l0Node = treeData.l0Node;
    this.bomTreeData = treeData.bomTreeData;
    this.maxLevels = treeData.maxLevels;
    this.nodesPerParent = treeData.nodesPerParent;
    
    this.updateLayout();
    alert('BOM树已加载');
  }
}