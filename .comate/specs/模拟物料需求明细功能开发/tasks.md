# 模拟物料需求明细功能开发任务计划

## 任务概述
开发"模拟物料需求明细"功能，基于模拟排程列表数据，通过复杂的跨表查询和计算逻辑，自动生成详细的物料需求明细。

- [x] 任务1：创建数据库表结构和索引
    - 1.1: 创建模拟物料需求明细表
    - 1.2: 设计合理的索引结构
    - 1.3: 添加字段注释和约束
    - 1.4: 创建数据库迁移脚本

- [x] 任务2：开发跨表查询引擎
    - 2.1: 实现生产BOM查询服务
    - 2.2: 实现预计结存查询服务
    - 2.3: 实现产品物料库查询服务
    - 2.4: 实现复杂的MINIFS/MAXIFS查询逻辑

- [x] 任务3：开发物料需求计算核心引擎
    - 3.1: 实现触发条件检查逻辑
    - 3.2: 实现层阶地址计算算法
    - 3.3: 实现0阶BOM编号计算
    - 3.4: 实现数量相关字段计算
    - 3.5: 实现后道产品字段计算

- [x] 任务4：开发后端API服务层
    - 4.1: 创建物料需求计算服务
    - 4.2: 创建物料需求列表查询服务
    - 4.3: 实现模拟排程更新事件处理
    - 4.4: 实现数据更新和删除逻辑

- [x] 任务5：开发后端API路由层
    - 5.1: 创建物料需求明细路由
    - 5.2: 实现分页查询接口
    - 5.3: 实现手动刷新计算接口
    - 5.4: 添加完整的错误处理和日志

- [x] 任务6：开发前端页面组件
    - 6.1: 创建物料需求明细页面组件
    - 6.2: 实现表格列配置和显示
    - 6.3: 实现搜索和筛选功能
    - 6.4: 实现分页和排序功能

- [x] 任务7：实现前端数据接收机制
    - 7.1: 添加模拟排程事件监听器
    - 7.2: 实现被动数据接收逻辑
    - 7.3: 实现空状态友好提示
    - 7.4: 实现页面跳转功能

- [x] 任务8：集成测试和优化
    - 8.1: 测试完整的业务流程
    - 8.2: 测试复杂跨表查询逻辑
    - 8.3: 测试数据更新触发机制
    - 8.4: 优化性能和用户体验

- [x] 任务9：添加前端路由配置
    - 9.1: 添加物料需求明细页面路由
    - 9.2: 配置路由守卫和权限
    - 9.3: 测试路由跳转功能
    - 9.4: 更新导航菜单配置

- [x] 任务10：文档更新和部署准备
    - 10.1: 更新API接口文档
    - 10.2: 编写功能使用说明
    - 10.3: 准备部署脚本
    - 10.4: 创建功能测试用例
