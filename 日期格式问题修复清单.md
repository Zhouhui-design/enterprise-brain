# æ—¥æœŸæ ¼å¼é—®é¢˜æ‰¹é‡ä¿®å¤æ¸…å•

**æ£€æŸ¥æ—¶é—´**: 2025-12-14  
**æ‰«æèŒƒå›´**: å‰ç«¯æ‰€æœ‰é¡µé¢å’Œç»„ä»¶  
**å‘ç°é—®é¢˜**: 77ä¸ªæ–‡ä»¶ å…±216ä¸ªé—®é¢˜  
**çŠ¶æ€**: ğŸŸ¡ å¾…æ‰¹é‡ä¿®å¤

---

## ğŸ“Š é—®é¢˜ç»Ÿè®¡

| é—®é¢˜ç±»å‹ | æ•°é‡ | ä¸¥é‡ç¨‹åº¦ |
|---------|------|---------|
| æ‰‹åŠ¨æ‹¼æ¥æ—¥æœŸï¼ˆç¼ºå°‘å‰å¯¼é›¶ï¼‰ | 82ä¸ª | ğŸ”´ é«˜ |
| æ‰‹åŠ¨æ‹¼æ¥æ—¥æœŸï¼ˆgetDateï¼‰ | 77ä¸ª | ğŸ”´ é«˜ |
| ä½¿ç”¨toISOString() | 54ä¸ª | ğŸ”´ é«˜ |
| ä½¿ç”¨æ–œæ åˆ†éš”ç¬¦ | 3ä¸ª | ğŸŸ¡ ä¸­ |

**æ€»è®¡**: 216ä¸ªé—®é¢˜

---

## âœ… å·²ä¿®å¤æ–‡ä»¶ï¼ˆ1ä¸ªï¼‰

1. âœ… `/07-frontend/src/pages/mrp/CapacityLoad.vue`
   - ä¿®å¤æ—¥æœŸ: 2025-12-14
   - é—®é¢˜ç±»å‹: ä½¿ç”¨ YYYY/M/D æ ¼å¼ï¼ˆæ— å‰å¯¼é›¶ï¼‰
   - ä¿®å¤æ–¹å¼: å¯¼å…¥ `@/utils/dateFormatter`

---

## ğŸ”´ é«˜ä¼˜å…ˆçº§å¾…ä¿®å¤æ–‡ä»¶ï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰

### ç”Ÿäº§è®¡åˆ’ç›¸å…³ï¼ˆ14ä¸ªæ–‡ä»¶ï¼‰

1. `/pages/production-planning/BomList.vue` - 2ä¸ªé—®é¢˜
2. `/pages/production-planning/MaterialPreparationPlan.vue` - 1ä¸ªé—®é¢˜
3. `/pages/production-planning/ProductionPlanList.vue` - 1ä¸ªé—®é¢˜
4. `/pages/production-planning/ProcessPlanList.vue` - 4ä¸ªé—®é¢˜
5. `/pages/production-planning/RealProcessPlanList.vue` - 6ä¸ªé—®é¢˜
6. `/pages/production-planning/OrderProcessManagement.vue` - 2ä¸ªé—®é¢˜
7. `/pages/production-planning/components/BatchCreateForm.vue` - 2ä¸ªé—®é¢˜
8. `/pages/production-planning/ProcessPlanListOld.vue` - 4ä¸ªé—®é¢˜
9. `/pages/production-planning/RealProcessPlanListOld.vue` - 6ä¸ªé—®é¢˜
10. `/pages/scheduling/components/DragScheduler.vue` - 1ä¸ªé—®é¢˜
11. `/pages/scheduling/components/ResourceCalendar.vue` - 1ä¸ªé—®é¢˜

**ä¿®å¤å»ºè®®**: è¿™äº›æ–‡ä»¶æ¶‰åŠæ ¸å¿ƒç”Ÿäº§æ’ç¨‹é€»è¾‘ï¼Œå¿…é¡»ä¼˜å…ˆä¿®å¤ä»¥ç¡®ä¿æ—¥æœŸè®¡ç®—å‡†ç¡®æ€§ã€‚

---

### ä¼ä¸šæ—¥å†ç›¸å…³ï¼ˆ1ä¸ªæ–‡ä»¶ï¼‰

1. `/pages/human-resources/CompanyCalendar.vue` - 2ä¸ªé—®é¢˜

**ä¿®å¤å»ºè®®**: ä¼ä¸šæ—¥å†æ˜¯æ—¥æœŸè®¡ç®—çš„åŸºç¡€æ•°æ®æºï¼Œå¿…é¡»ç¡®ä¿æ ¼å¼æ­£ç¡®ã€‚

---

### é”€å”®è®¢å•ç›¸å…³ï¼ˆ4ä¸ªæ–‡ä»¶ï¼‰

1. `/pages/sales/sales-order/SalesOrderListNew.vue` - 1ä¸ªé—®é¢˜
2. `/pages/sales/sales-order/components/BatchCreateForm.vue` - 2ä¸ªé—®é¢˜
3. `/pages/customer/CustomerList.vue` - 5ä¸ªé—®é¢˜
4. `/pages/customer/components/CustomerDetailDialog.vue` - 2ä¸ªé—®é¢˜

---

## ğŸŸ¡ ä¸­ä¼˜å…ˆçº§å¾…ä¿®å¤æ–‡ä»¶ï¼ˆæ¬¡è¦ä¸šåŠ¡ï¼‰

### åº“å­˜ç®¡ç†ï¼ˆ11ä¸ªæ–‡ä»¶ï¼‰

1. `/pages/inventory/InventoryList.vue` - 2ä¸ªé—®é¢˜
2. `/pages/inventory/StockAllocation.vue` - 4ä¸ªé—®é¢˜
3. `/pages/warehouse/InventoryCount.vue` - 4ä¸ªé—®é¢˜
4. `/pages/warehouse/StockTransfer.vue` - 4ä¸ªé—®é¢˜
5. `/pages/warehouse/WarehouseIn.vue` - 2ä¸ªé—®é¢˜
6. `/pages/warehouse/WarehouseOut.vue` - 2ä¸ªé—®é¢˜
7. `/pages/warehouse/LocationManagement.vue` - 1ä¸ªé—®é¢˜ï¼ˆæ–œæ åˆ†éš”ç¬¦ï¼Œéæ—¥æœŸï¼‰

### é‡‡è´­ç®¡ç†ï¼ˆ8ä¸ªæ–‡ä»¶ï¼‰

1. `/pages/purchase/PurchaseOrder.vue` - 4ä¸ªé—®é¢˜
2. `/pages/purchase/PurchaseRequest.vue` - 6ä¸ªé—®é¢˜
3. `/pages/purchase/MaterialManualList.vue` - 2ä¸ªé—®é¢˜
4. `/pages/purchase/SupplierList.vue` - 2ä¸ªé—®é¢˜

### è´¨é‡ç®¡ç†ï¼ˆ10ä¸ªæ–‡ä»¶ï¼‰

1. `/pages/quality/IncomingInspection.vue` - 3ä¸ªé—®é¢˜
2. `/pages/quality/ProcessInspection.vue` - 3ä¸ªé—®é¢˜
3. `/pages/quality/OutgoingInspection.vue` - 3ä¸ªé—®é¢˜
4. `/pages/quality/components/InspectionTaskDialog.vue` - 2ä¸ªé—®é¢˜

---

## ğŸŸ¢ ä½ä¼˜å…ˆçº§å¾…ä¿®å¤æ–‡ä»¶ï¼ˆè¾…åŠ©åŠŸèƒ½ï¼‰

### ç³»ç»Ÿè®¾ç½®ï¼ˆ3ä¸ªæ–‡ä»¶ï¼‰

1. `/pages/system/Dashboard.vue` - 2ä¸ªé—®é¢˜
2. `/pages/system/company/PrivacyPolicy.vue` - 1ä¸ªé—®é¢˜

### è®¾å¤‡ç®¡ç†ï¼ˆ6ä¸ªæ–‡ä»¶ï¼‰

1. `/pages/production-resources/equipment/EquipmentMaintenance.vue` - 8ä¸ªé—®é¢˜
2. `/pages/production-resources/equipment/EquipmentList.vue` - 2ä¸ªé—®é¢˜
3. `/pages/production-resources/tooling/ToolingMaintenance.vue` - 10ä¸ªé—®é¢˜

---

## ğŸ”§ æ‰¹é‡ä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: æ‰‹åŠ¨é€ä¸ªä¿®å¤ï¼ˆæ¨èç”¨äºæ ¸å¿ƒæ–‡ä»¶ï¼‰

**æ­¥éª¤**:
1. æ‰“å¼€æ–‡ä»¶
2. å¯¼å…¥æ—¥æœŸå·¥å…·:
   ```javascript
   import { formatDate, getToday } from '@/utils/dateFormatter'
   ```
3. æŸ¥æ‰¾å¹¶æ›¿æ¢:
   ```javascript
   // âŒ æ—§ä»£ç 
   const month = String(date.getMonth() + 1).padStart(2, '0')
   const day = String(date.getDate()).padStart(2, '0')
   const dateStr = `${year}-${month}-${day}`
   
   // âœ… æ–°ä»£ç 
   const dateStr = formatDate(date)
   ```
4. æ›¿æ¢ toISOString:
   ```javascript
   // âŒ æ—§ä»£ç 
   const today = new Date().toISOString().split('T')[0]
   
   // âœ… æ–°ä»£ç 
   const today = getToday()
   ```
5. æµ‹è¯•éªŒè¯

---

### æ–¹æ¡ˆ2: è‡ªåŠ¨åŒ–æ‰¹é‡æ›¿æ¢ï¼ˆç”¨äºä½ä¼˜å…ˆçº§æ–‡ä»¶ï¼‰

**è„šæœ¬ç¤ºä¾‹**: `scripts/auto-fix-date-format.js`

```javascript
const fs = require('fs');
const path = require('path');

function autoFixFile(filePath) {
  let content = fs.readFileSync(filePath, 'utf-8');
  
  // æ›¿æ¢1: toISOString
  content = content.replace(
    /new Date\(\)\.toISOString\(\)\.split\('T'\)\[0\]/g,
    "getToday()"
  );
  
  // æ›¿æ¢2: æ‰‹åŠ¨æ‹¼æ¥ï¼ˆç®€å•æ¨¡å¼ï¼‰
  content = content.replace(
    /const month = String\(date\.getMonth\(\) \+ 1\)\.padStart\(2, '0'\)\s*\n\s*const day = String\(date\.getDate\(\)\)\.padStart\(2, '0'\)\s*\n\s*const dateStr = `\$\{year\}-\$\{month\}-\$\{day\}`/g,
    "const dateStr = formatDate(date)"
  );
  
  // æ·»åŠ å¯¼å…¥ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
  if (!content.includes("from '@/utils/dateFormatter'")) {
    content = content.replace(
      /(import .* from 'vue')/,
      "$1\nimport { formatDate, getToday } from '@/utils/dateFormatter'"
    );
  }
  
  fs.writeFileSync(filePath, content, 'utf-8');
}
```

---

## ğŸ“‹ ä¿®å¤è¿›åº¦è·Ÿè¸ªè¡¨

### æ ¸å¿ƒä¸šåŠ¡æ–‡ä»¶ï¼ˆå¿…é¡»ä¿®å¤ï¼‰

| æ–‡ä»¶ | é—®é¢˜æ•° | çŠ¶æ€ | è´Ÿè´£äºº | å®Œæˆæ—¥æœŸ |
|------|-------|------|--------|---------|
| CapacityLoad.vue | 1 | âœ… å·²ä¿®å¤ | AI Assistant | 2025-12-14 |
| CompanyCalendar.vue | 2 | ğŸŸ¡ å¾…ä¿®å¤ | - | - |
| MaterialPreparationPlan.vue | 1 | ğŸŸ¡ å¾…ä¿®å¤ | - | - |
| ProductionPlanList.vue | 1 | ğŸŸ¡ å¾…ä¿®å¤ | - | - |
| ProcessPlanList.vue | 4 | ğŸŸ¡ å¾…ä¿®å¤ | - | - |
| RealProcessPlanList.vue | 6 | ğŸŸ¡ å¾…ä¿®å¤ | - | - |
| SalesOrderListNew.vue | 1 | ğŸŸ¡ å¾…ä¿®å¤ | - | - |

---

## ğŸ¯ ä¿®å¤ä¼˜å…ˆçº§å»ºè®®

### ç¬¬ä¸€æ‰¹ï¼ˆæœ¬å‘¨å¿…é¡»å®Œæˆï¼‰

1. âœ… CapacityLoad.vue (å·²å®Œæˆ)
2. ğŸŸ¡ CompanyCalendar.vue
3. ğŸŸ¡ MaterialPreparationPlan.vue
4. ğŸŸ¡ RealProcessPlanList.vue
5. ğŸŸ¡ ProcessPlanList.vue

**ç†ç”±**: è¿™äº›æ–‡ä»¶ç›´æ¥å½±å“æ’ç¨‹è®¡ç®—é€»è¾‘ï¼Œæ—¥æœŸæ ¼å¼é”™è¯¯ä¼šå¯¼è‡´ä¸¥é‡çš„ä¸šåŠ¡é—®é¢˜ã€‚

---

### ç¬¬äºŒæ‰¹ï¼ˆä¸‹å‘¨å®Œæˆï¼‰

1. SalesOrderListNew.vue
2. BomList.vue
3. ProductionPlanList.vue
4. æ‰€æœ‰é‡‡è´­ç®¡ç†ç›¸å…³æ–‡ä»¶

**ç†ç”±**: æ¶‰åŠè®¢å•ç®¡ç†å’Œé‡‡è´­æµç¨‹ï¼Œå½±å“é¢è¾ƒå¹¿ã€‚

---

### ç¬¬ä¸‰æ‰¹ï¼ˆé€æ­¥ä¼˜åŒ–ï¼‰

1. åº“å­˜ç®¡ç†ç›¸å…³æ–‡ä»¶
2. è´¨é‡ç®¡ç†ç›¸å…³æ–‡ä»¶
3. ç³»ç»Ÿè®¾ç½®ç›¸å…³æ–‡ä»¶

**ç†ç”±**: è¾…åŠ©åŠŸèƒ½ï¼Œå¯ä»¥é€æ­¥ä¼˜åŒ–ã€‚

---

## ğŸ“ ä¿®å¤åéªŒè¯æ¸…å•

æ¯ä¿®å¤ä¸€ä¸ªæ–‡ä»¶åï¼Œå¿…é¡»å®Œæˆä»¥ä¸‹éªŒè¯:

- [ ] å¯¼å…¥äº† `@/utils/dateFormatter`
- [ ] æ‰€æœ‰æ—¥æœŸæ˜¾ç¤ºæ ¼å¼ä¸º `YYYY-MM-DD`
- [ ] ä¸å†ä½¿ç”¨ `toISOString()`
- [ ] ä¸å†ä½¿ç”¨ `YYYY/M/D` æ ¼å¼
- [ ] é¡µé¢åŠŸèƒ½æ­£å¸¸ï¼ˆæ— æŠ¥é”™ï¼‰
- [ ] æ—¥æœŸç­›é€‰åŠŸèƒ½æ­£å¸¸
- [ ] æ—¥æœŸæ¯”è¾ƒé€»è¾‘æ­£å¸¸
- [ ] ä¸ä¼ä¸šæ—¥å†æ•°æ®èƒ½æ­£ç¡®åŒ¹é…

---

## ğŸš€ è‡ªåŠ¨åŒ–ä¿®å¤è„šæœ¬ä½¿ç”¨

### è¿è¡Œæ£€æŸ¥è„šæœ¬

```bash
cd /home/sardenesy/ai_workspaces/ai_desktop_3
node scripts/check-date-format.js
```

### æŸ¥çœ‹æ£€æŸ¥æŠ¥å‘Š

æŠ¥å‘Šä¼šåˆ—å‡ºæ‰€æœ‰é—®é¢˜æ–‡ä»¶å’Œå…·ä½“é—®é¢˜ä½ç½®ã€‚

---

## ğŸ“ é—®é¢˜åé¦ˆ

å¦‚æœåœ¨ä¿®å¤è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜:

1. **è¯­æ³•é”™è¯¯**: æ£€æŸ¥å¯¼å…¥è¯­å¥æ˜¯å¦æ­£ç¡®
2. **åŠŸèƒ½å¼‚å¸¸**: å¯¹æ¯”ä¿®æ”¹å‰åçš„æ—¥æœŸæ ¼å¼
3. **æµ‹è¯•å¤±è´¥**: ç¡®è®¤æ˜¯å¦æ‰€æœ‰æ—¥æœŸéƒ½ä½¿ç”¨æ ‡å‡†æ ¼å¼

---

**åˆ›å»ºäººå‘˜**: AI Assistant  
**åˆ›å»ºæ—¶é—´**: 2025-12-14  
**æ€»æ–‡ä»¶æ•°**: 77ä¸ª  
**æ€»é—®é¢˜æ•°**: 216ä¸ª  
**å·²ä¿®å¤**: 1ä¸ªæ–‡ä»¶  
**å¾…ä¿®å¤**: 76ä¸ªæ–‡ä»¶
